!function(t){var r,e;function o(){var e=this;this.queryKey="presentation_mode",this.webClass="article-content",this.preClass="presentation-only",this.mode=this.getMode(),this.setMode(),this.assignClassesViaComments(),this.tryMoveToFirstChapter(),window.addEventListener("keyup",function(t){t.altKey&&("p"!=t.key&&"P"!=t.key&&"KeyP"!=t.code||e.toggle())})}(e=r=r||{})[e.Slides=0]="Slides",e[e.Web=1]="Web";new(o.prototype.tryMoveToFirstChapter=function(){if(this.mode===r.Slides&&(""===location.pathname||"/"===location.pathname)){var t=document.querySelector(".sidebar .chapter");if(!t)return console.error("unable to find chapter 1 link for paging. Please manually click into chapter 1");t.firstChild.firstChild.click()}},o.prototype.assignClassesViaComments=function(){for(var t,e=document.createNodeIterator(document.body,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null),o=this.mode===r.Web?"not-presenting":"presenting",n=null;t=e.nextNode();)if(8===t.nodeType){var i=t.nodeValue.trim();"web-only"===i?n=this.webClass:"slides-only"===i?n=this.preClass:i.startsWith("notes")?this.processNotes(i):"web-only-end"!==i&&"slides-only-end"!==i&&"notes-end"!==i||(n=null)}else 1===t.nodeType&&null!==n&&t.classList.add(n,o)},o.prototype.getMode=function(){var e=localStorage.getItem(this.queryKey);if(null===e)return r.Web;try{var t=parseInt(e);return 1<t||t<0?(console.error("presentation_mode was out of range",t),r.Web):t}catch(t){return console.error("presentation_mode present in localStorage but value is not an integer",e,t),r.Web}},o.prototype.setMode=function(){localStorage.setItem(this.queryKey,this.mode.toString())},o.prototype.updatePage=function(){this.updateElements(document.querySelectorAll(".presentation-only")),this.updateElements(document.querySelectorAll(".article-content"))},o.prototype.updateElements=function(t){for(var e=0;e<t.length;e++){var o=t[e];this.mode===r.Slides?o.classList.replace("not-presenting","presenting"):o.classList.replace("presenting","not-presenting")}},o.prototype.toggle=function(){switch(this.mode){case r.Slides:this.mode=r.Web;break;case r.Web:this.mode=r.Slides}this.setMode(),this.updatePage()},o.prototype.processNotes=function(t){var e=t.indexOf("\n");console.log("%c"+t.substr(e+1),"font-size: 14pt;")},o);"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="end-date",i="total-minutes",s=(a.prototype.tick=function(){this.timeout=null;var t=new Date;if(t>=this.end)return this.update(0,0);var e=+this.end-+t,o=Math.floor(e/1e3),n=Math.floor(o/60);this.update(n,o-60*n),this.timeout=window.setTimeout(this.tick.bind(this),1e3)},a.prototype.getEnd=function(){var t=localStorage.getItem(n);this.minutes=+localStorage.getItem(i)||45;var e=new Date;if(e.setHours(e.getHours()+1),t&&!(+t<+e))return t;localStorage.removeItem(n)},a.prototype.start=function(){var t=new Date,e=t.getMinutes();t.setMinutes(e+this.minutes),this.end=t,this.saveGlobals(),this.tick()},a.prototype.stop=function(){this.timeout&&clearTimeout(this.timeout),localStorage.removeItem(n);var t=document.getElementById("counter");t&&t.parentElement.removeChild(t)},a.prototype.update=function(t,e){var o=this.getCounterEl();o.innerHTML=this.formatTime(t,e),o.style.borderColor=this.getColor(60*t+e)},a.prototype.formatTime=function(t,e){if(60<=t){var o=Math.floor(t/60);return t-=60*o,o+":"+this.twoDigits(t)+":"+this.twoDigits(e)}return this.twoDigits(t)+":"+this.twoDigits(e)},a.prototype.twoDigits=function(t){return("0"+t).substr(-2)},a.prototype.getCounterEl=function(){var t=document.getElementById("counter");return t||((t=document.createElement("div")).style.position="fixed",t.style.left="calc(100% - 10px)",t.style.top="55px",t.style.width="70px",t.style.textAlign="right",t.style.border="2px solid var(--quote-border)",t.style.color="var(--fg)",t.style.borderRadius="5px",t.style.paddingLeft="5px",t.style.backgroundColor="var(--bg)",t.setAttribute("id","counter"),t.addEventListener("mouseenter",function(t){t.currentTarget.style.left="calc(100% - 70px)",t.currentTarget.style.textAlign="left"}),t.addEventListener("mouseleave",function(t){t.currentTarget.style.left="calc(100% - 10px)",t.currentTarget.style.textAlign="right"}),document.body.appendChild(t),t)},a.prototype.getColor=function(t){var e=t/(60*this.minutes),o=1-e,n=0,i=0;return o<.5?n=i=255*o*2:i=2*e*(n=255),"rgb("+n.toFixed(2)+", "+i.toFixed(2)+", 0)"},a.prototype.updateEnd=function(t){this.timeout&&(clearTimeout(this.timeout),this.timeout=null);var e=this.end.getMinutes();e+=t,this.minutes+=t,this.end.setMinutes(e),this.saveGlobals(),this.tick()},a.prototype.saveGlobals=function(){localStorage.setItem(n,this.end.toString()),this.saveMinutes()},a.prototype.saveMinutes=function(){localStorage.setItem(i,this.minutes.toString())},a.prototype.promptForMinutes=function(){if(!document.getElementById("minutes-prompt")){var t=document.createElement("div");t.setAttribute("id","minutes-prompt"),t.style.position="absolute",t.style.left="calc(50% - 50px)",t.style.top="calc(50% - 25px)",t.style.display="flex",t.style.flexFlow="column",t.style.justifyContent="space-between",t.style.alignItems="center",t.style.boxShadow="1px 1px 1px 1px var(--quote-border)",t.style.backgroundColor="var(--bg)",t.style.padding="5px";var e=document.createElement("label");e.setAttribute("for","minutes-inputs"),e.appendChild(document.createTextNode("Presentation Length"));var o=document.createElement("input");o.setAttribute("type","number"),o.setAttribute("min","1"),o.setAttribute("name","minutes-input"),o.setAttribute("id","minutes-input"),o.value=(this.minutes||0).toString();var n=document.createElement("button");n.setAttribute("type","button"),n.addEventListener("click",this.promptOk.bind(this)),n.appendChild(document.createTextNode("OK")),t.appendChild(e),t.appendChild(o),t.appendChild(n),document.body.appendChild(t)}},a.prototype.promptOk=function(){var t=document.getElementById("minutes-input");if(t){var e=+t.value;this.end?this.updateEnd(e-this.minutes):(this.minutes=e,this.saveMinutes())}t.parentElement.parentElement.removeChild(t.parentElement)},a);function a(){var e=this;window.addEventListener("keyup",function(t){if(t.altKey)switch(t.key){case"g":return e.start();case"ArrowUp":return e.updateEnd(1);case"ArrowDown":return e.updateEnd(-1);case"m":return e.promptForMinutes();case".":return e.stop()}});var t=this.getEnd();t&&(this.end=new Date(t),this.tick())}new(t.PresentationTimer=s)}("undefined"==typeof ___mdbookPresPreProc?___mdbookPresPreProc={}:___mdbookPresPreProc);